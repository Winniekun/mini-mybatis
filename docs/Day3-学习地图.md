# ğŸ“ Day 3 å­¦ä¹ åœ°å›¾ - SQLæ‰§è¡Œå™¨å…¨æ™¯å›¾

## ğŸ—ºï¸ æ•´ä½“æ¶æ„

```
                        MyBatisæ¶æ„
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“            â†“            â†“
          SqlSession    Configuration   Mapper
                â”‚
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Executor   â”‚ â† ä»Šå¤©çš„ä¸»è§’ï¼
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“           â†“           â†“
SimpleExecutor ReuseExecutor BatchExecutor
    â”‚
    â””â”€â”€â”€â”€â”€> StatementHandler â† ä»Šå¤©çš„æ ¸å¿ƒï¼
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“        â†“        â†“
    prepare  parameterize query/update
        â”‚        â”‚         â”‚
        â†“        â†“         â†“
    #{} â†’ ?  setObject  executeQuery
        â”‚        â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
          PreparedStatement
                 â†“
              æ•°æ®åº“
```

---

## ğŸ¯ æ ¸å¿ƒç»„ä»¶å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SqlSession (æœåŠ¡å‘˜)                 â”‚
â”‚  - selectOne()                                  â”‚
â”‚  - selectList()                                 â”‚
â”‚  - insert/update/delete()                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“ å§”æ‰˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Executor (å¨å¸ˆé•¿)                   â”‚
â”‚  - query()                                      â”‚
â”‚  - update()                                     â”‚
â”‚  - åè°ƒæ•´ä¸ªæ‰§è¡Œæµç¨‹                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“ åˆ›å»ºå¹¶ä½¿ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          StatementHandler (å¨å…·)                 â”‚
â”‚  - prepare()      - å‡†å¤‡é”… (åˆ›å»ºStatement)       â”‚
â”‚  - parameterize() - æ”¾é£Ÿæ (è®¾ç½®å‚æ•°)            â”‚
â”‚  - query()        - åšèœ (æ‰§è¡ŒSQL)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“ ä½¿ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PreparedStatement (JDBC)                â”‚
â”‚  - é¢„ç¼–è¯‘SQL                                     â”‚
â”‚  - ç»‘å®šå‚æ•°                                      â”‚
â”‚  - æ‰§è¡ŒæŸ¥è¯¢                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ SQLæ‰§è¡Œæµç¨‹å›¾

```
ç”¨æˆ·è°ƒç”¨ mapper.selectById(1L)
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MapperProxyæ‹¦æˆª    â”‚
â”‚  æ„å»ºstatementId     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SqlSession         â”‚
â”‚  selectOne()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Executor.query()                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. è·å–MappedStatement        â”‚  â”‚
â”‚  â”‚    - SQL: SELECT * FROM ...   â”‚  â”‚
â”‚  â”‚    - resultType: User.class   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2. åˆ›å»ºStatementHandler       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 3. åè°ƒæ‰§è¡Œ                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StatementHandler.prepare()         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è¾“å…¥: SELECT * FROM user      â”‚  â”‚
â”‚  â”‚       WHERE id = #{id}        â”‚  â”‚
â”‚  â”‚ â†“                             â”‚  â”‚
â”‚  â”‚ è¾“å‡º: SELECT * FROM user      â”‚  â”‚
â”‚  â”‚       WHERE id = ?            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  connection.prepareStatement(sql)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StatementHandler.parameterize()    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å‚æ•°: 1L                      â”‚  â”‚
â”‚  â”‚ â†“                             â”‚  â”‚
â”‚  â”‚ ps.setObject(1, 1L)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StatementHandler.query()           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ps.executeQuery()             â”‚  â”‚
â”‚  â”‚ â†“                             â”‚  â”‚
â”‚  â”‚ ResultSet rs = ...            â”‚  â”‚
â”‚  â”‚ â†“                             â”‚  â”‚
â”‚  â”‚ ResultSetHandler.handle()     â”‚  â”‚
â”‚  â”‚ â†“                             â”‚  â”‚
â”‚  â”‚ List<User>                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
      è¿”å›ç»™ç”¨æˆ·
```

---

## ğŸ¨ #{} vs ${} å¯¹æ¯”å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     #{}                         â”‚
â”‚                 (é¢„ç¼–è¯‘å‚æ•°)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQL: SELECT * FROM user WHERE id = #{id}       â”‚
â”‚       å‚æ•°: 1L                                  â”‚
â”‚                                                 â”‚
â”‚  å¤„ç†æµç¨‹:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 1. æ›¿æ¢ä¸º?                           â”‚       â”‚
â”‚  â”‚    SELECT * FROM user WHERE id = ?   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 2. é¢„ç¼–è¯‘                            â”‚       â”‚
â”‚  â”‚    PreparedStatement ps = ...        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 3. ç»‘å®šå‚æ•°                          â”‚       â”‚
â”‚  â”‚    ps.setLong(1, 1L)                â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 4. æ‰§è¡Œ                              â”‚       â”‚
â”‚  â”‚    rs = ps.executeQuery()           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹:                                          â”‚
â”‚  âœ… å®‰å…¨ (é˜²SQLæ³¨å…¥)                            â”‚
â”‚  âœ… æ€§èƒ½å¥½ (é¢„ç¼–è¯‘)                             â”‚
â”‚  âœ… ç±»å‹å®‰å…¨                                    â”‚
â”‚  âœ… å¯å¤ç”¨                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ${}                         â”‚
â”‚                 (å­—ç¬¦ä¸²æ›¿æ¢)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQL: SELECT * FROM ${tableName}                â”‚
â”‚       å‚æ•°: "user"                              â”‚
â”‚                                                 â”‚
â”‚  å¤„ç†æµç¨‹:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 1. ç›´æ¥æ›¿æ¢                          â”‚       â”‚
â”‚  â”‚    SELECT * FROM user                â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 2. åˆ›å»ºStatement                     â”‚       â”‚
â”‚  â”‚    Statement stmt = ...              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 3. ç›´æ¥æ‰§è¡Œ                          â”‚       â”‚
â”‚  â”‚    rs = stmt.executeQuery(sql)      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹:                                          â”‚
â”‚  âš ï¸ ä¸å®‰å…¨ (æœ‰SQLæ³¨å…¥é£é™©)                      â”‚
â”‚  âš ï¸ æ€§èƒ½å·® (æ¯æ¬¡ç¼–è¯‘)                           â”‚
â”‚  âš ï¸ å¿…é¡»éªŒè¯è¾“å…¥                                â”‚
â”‚  âš ï¸ åªç”¨äºè¡¨åã€åˆ—å                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ SQLæ³¨å…¥æ”»å‡»ç¤ºæ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä½¿ç”¨ ${} çš„å±é™©ç¤ºä¾‹                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQL: SELECT * FROM user                        â”‚
â”‚       WHERE username = '${username}'            â”‚
â”‚       AND password = '${password}'              â”‚
â”‚                                                 â”‚
â”‚  æ­£å¸¸è¾“å…¥:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ username = "admin"                  â”‚       â”‚
â”‚  â”‚ password = "123456"                 â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  æœ€ç»ˆSQL:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ SELECT * FROM user                  â”‚       â”‚
â”‚  â”‚ WHERE username = 'admin'            â”‚       â”‚
â”‚  â”‚ AND password = '123456'             â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  ç»“æœ: âœ… æ­£å¸¸æŸ¥è¯¢                               â”‚
â”‚                                                 â”‚
â”‚  æ¶æ„è¾“å…¥:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ username = "admin' OR '1'='1"       â”‚       â”‚
â”‚  â”‚ password = "anything"               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  æœ€ç»ˆSQL:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ SELECT * FROM user                  â”‚       â”‚
â”‚  â”‚ WHERE username = 'admin'            â”‚       â”‚
â”‚  â”‚    OR '1'='1'  â† æ°¸è¿œä¸ºçœŸï¼         â”‚       â”‚
â”‚  â”‚ AND password = 'anything'           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  ç»“æœ: âš ï¸ è¿”å›æ‰€æœ‰ç”¨æˆ·ï¼ç»•è¿‡å¯†ç éªŒè¯ï¼           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä½¿ç”¨ #{} çš„å®‰å…¨ç¤ºä¾‹                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQL: SELECT * FROM user                        â”‚
â”‚       WHERE username = #{username}              â”‚
â”‚       AND password = #{password}                â”‚
â”‚                                                 â”‚
â”‚  æ¶æ„è¾“å…¥:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ username = "admin' OR '1'='1"       â”‚       â”‚
â”‚  â”‚ password = "anything"               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  å¤„ç†æµç¨‹:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 1. æ›¿æ¢ä¸º?                           â”‚       â”‚
â”‚  â”‚    SELECT * FROM user                â”‚       â”‚
â”‚  â”‚    WHERE username = ?                â”‚       â”‚
â”‚  â”‚    AND password = ?                  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 2. ç»‘å®šå‚æ•°(ä¼šè‡ªåŠ¨è½¬ä¹‰)              â”‚       â”‚
â”‚  â”‚    ps.setString(1,                  â”‚       â”‚
â”‚  â”‚      "admin' OR '1'='1")            â”‚       â”‚
â”‚  â”‚    ps.setString(2, "anything")      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  å®é™…æ•ˆæœ:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ SELECT * FROM user                  â”‚       â”‚
â”‚  â”‚ WHERE username =                    â”‚       â”‚
â”‚  â”‚   'admin\' OR \'1\'=\'1\''          â”‚       â”‚
â”‚  â”‚       â†‘ å•å¼•å·è¢«è½¬ä¹‰äº†ï¼             â”‚       â”‚
â”‚  â”‚ AND password = 'anything'           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  ç»“æœ: âœ… æ‰¾ä¸åˆ°ç”¨æˆ·ï¼Œæ”»å‡»å¤±è´¥ï¼                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Executorç±»å‹å¯¹æ¯”å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SimpleExecutor (é»˜è®¤)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰§è¡ŒSQL #1:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ åˆ›å»ºStatement â”‚ â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ â†’ å…³é—­     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #2:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ åˆ›å»ºStatement â”‚ â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ â†’ å…³é—­     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â†‘ æ¯æ¬¡éƒ½æ–°å»ºï¼           â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #3:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ åˆ›å»ºStatement â”‚ â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ â†’ å…³é—­     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹:                                          â”‚
â”‚  âœ… ç®€å•ç›´è§‚                                     â”‚
â”‚  âœ… æ— çŠ¶æ€é—®é¢˜                                   â”‚
â”‚  âŒ æ¯æ¬¡éƒ½åˆ›å»ºæ–°Statement                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ReuseExecutor                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰§è¡ŒSQL #1:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ åˆ›å»ºStatement â”‚ â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚         â”‚ ç¼“å­˜åˆ°Map                             â”‚
â”‚         â†“                                       â”‚
â”‚  statementMap.put(sql, stmt)                    â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #2 (ç›¸åŒSQL):                          â”‚
â”‚  ä»Mapå–å‡ºStatement â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ           â”‚
â”‚         â†‘ å¤ç”¨ï¼ä¸éœ€è¦é‡æ–°åˆ›å»ºï¼                 â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #3 (ç›¸åŒSQL):                          â”‚
â”‚  ä»Mapå–å‡ºStatement â†’ è®¾ç½®å‚æ•° â†’ æ‰§è¡Œ           â”‚
â”‚         â†‘ ç»§ç»­å¤ç”¨ï¼                            â”‚
â”‚                                                 â”‚
â”‚  å…³é—­æ—¶:                                         â”‚
â”‚  å…³é—­æ‰€æœ‰ç¼“å­˜çš„Statement                         â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹:                                          â”‚
â”‚  âœ… å¤ç”¨Statement                                â”‚
â”‚  âœ… æé«˜æ€§èƒ½                                     â”‚
â”‚  âŒ å ç”¨æ›´å¤šå†…å­˜                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BatchExecutor                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰§è¡ŒSQL #1:                                    â”‚
â”‚  åˆ›å»ºStatement â†’ è®¾ç½®å‚æ•° â†’ addBatch()          â”‚
â”‚                              â†“                  â”‚
â”‚                          ç´¯ç§¯åœ¨æ‰¹æ¬¡ä¸­            â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #2:                                    â”‚
â”‚  è®¾ç½®å‚æ•° â†’ addBatch()                          â”‚
â”‚              â†“                                  â”‚
â”‚          ç»§ç»­ç´¯ç§¯                                â”‚
â”‚                                                 â”‚
â”‚  æ‰§è¡ŒSQL #3:                                    â”‚
â”‚  è®¾ç½®å‚æ•° â†’ addBatch()                          â”‚
â”‚              â†“                                  â”‚
â”‚          ç»§ç»­ç´¯ç§¯                                â”‚
â”‚                                                 â”‚
â”‚  commitæ—¶:                                      â”‚
â”‚  executeBatch() â†’ ä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰SQL             â”‚
â”‚        â†“                                        â”‚
â”‚    è¿”å›æ‰¹é‡ç»“æœ                                  â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹:                                          â”‚
â”‚  âœ… å‡å°‘ç½‘ç»œå¾€è¿”                                 â”‚
â”‚  âœ… æœ€é«˜æ€§èƒ½                                     â”‚
â”‚  âŒ è°ƒè¯•å›°éš¾                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š å­¦ä¹ è·¯å¾„å›¾

```
Day 3: SQLæ‰§è¡Œå™¨
       â”‚
       â”œâ”€ Part 1: Executoræ‰§è¡Œå™¨
       â”‚         â”œâ”€ SimpleExecutor
       â”‚         â”œâ”€ ReuseExecutor
       â”‚         â””â”€ BatchExecutor
       â”‚
       â”œâ”€ Part 2: StatementHandler
       â”‚         â”œâ”€ prepare()
       â”‚         â”œâ”€ parameterize()
       â”‚         â””â”€ query()/update()
       â”‚
       â”œâ”€ Part 3: å‚æ•°å¤„ç†ä¸SQLæ³¨å…¥
       â”‚         â”œâ”€ #{} é¢„ç¼–è¯‘
       â”‚         â”œâ”€ ${} å­—ç¬¦ä¸²æ›¿æ¢
       â”‚         â””â”€ é˜²æ³¨å…¥æœ€ä½³å®è·µ
       â”‚
       â””â”€ Part 4: å®è·µæ¡ˆä¾‹
                 â”œâ”€ å®‰å…¨çš„æ’åºæŸ¥è¯¢
                 â”œâ”€ å®‰å…¨çš„æœç´¢åŠŸèƒ½
                 â””â”€ è°ƒè¯•æŠ€å·§
```

---

## ğŸ¯ çŸ¥è¯†ç‚¹æƒé‡

```
é‡è¦ç¨‹åº¦åˆ†å¸ƒï¼š

â­â­â­â­â­ å¿…é¡»æŒæ¡ï¼š
  - #{} å’Œ ${} çš„åŒºåˆ«
  - SQLæ³¨å…¥åŸç†å’Œé˜²æŠ¤
  - PreparedStatementçš„ä½œç”¨
  - Executorçš„åŸºæœ¬æ¦‚å¿µ

â­â­â­â­ é‡è¦ï¼š
  - SimpleExecutorçš„å®ç°
  - StatementHandlerçš„å·¥ä½œæµç¨‹
  - å‚æ•°å¤„ç†æœºåˆ¶
  - å®‰å…¨æœ€ä½³å®è·µ

â­â­â­ äº†è§£ï¼š
  - ReuseExecutorçš„ä¼˜åŒ–
  - BatchExecutorçš„åº”ç”¨
  - å¤æ‚å‚æ•°å¤„ç†
  - æ€§èƒ½ä¼˜åŒ–æŠ€å·§
```

---

## ğŸ” è°ƒè¯•åœ°å›¾

```
è°ƒè¯•èµ·ç‚¹: MybatisTest.java
          â”‚
          â”œâ”€ testMapperProxy()
          â”‚   â”‚
          â”‚   â””â”€ æ–­ç‚¹1: mapper.selectById(1L)
          â”‚       â”‚
          â”‚       â†“
          â”‚   MapperProxy.invoke()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹2: ç¬¬80è¡Œ
          â”‚           è§‚å¯Ÿ: statementIdçš„æ„å»º
          â”‚           â”‚
          â”‚           â†“
          â”‚   SqlSession.selectOne()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹3: ç¬¬48è¡Œ
          â”‚           â”‚
          â”‚           â†“
          â”‚   Executor.query()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹4: ç¬¬48è¡Œ
          â”‚           è§‚å¯Ÿ: MappedStatementçš„è·å–
          â”‚           â”‚
          â”‚           â†“
          â”‚   StatementHandler.prepare()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹5: ç¬¬72è¡Œ  â­ å…³é”®ï¼
          â”‚           è§‚å¯Ÿ: #{id} â†’ ?
          â”‚           â”‚
          â”‚           â†“
          â”‚   StatementHandler.parameterize()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹6: ç¬¬94è¡Œ  â­ å…³é”®ï¼
          â”‚           è§‚å¯Ÿ: ps.setObject(1, 1L)
          â”‚           â”‚
          â”‚           â†“
          â”‚   StatementHandler.query()
          â”‚       â”‚
          â”‚       â””â”€ æ–­ç‚¹7: ç¬¬120è¡Œ  â­ å…³é”®ï¼
          â”‚           è§‚å¯Ÿ: ps.executeQuery()
          â”‚           â”‚
          â”‚           â†“
          â”‚   ResultSetHandler.handleResultSet()
          â”‚       â”‚
          â”‚       â””â”€ ç»“æœè¿”å›
```

---

## ğŸ’¡ è®°å¿†å£è¯€

### Executorçš„ä½œç”¨
```
Executoræ˜¯ä¸ªåè°ƒè€…ï¼Œ
ä¸ç›´æ¥æ“ä½œJDBCï¼Œ
å§”æ‰˜Handleræ¥æ‰§è¡Œï¼Œ
Simpleé»˜è®¤æœ€å¸¸ç”¨ã€‚
```

### #{} vs ${}
```
äº•å·å®‰å…¨åŠ é¢„ç¼–è¯‘ï¼Œ
ç¾å…ƒå±é™©æ˜“æ³¨å…¥ï¼Œ
å€¼ç”¨äº•å·åˆ—ç”¨ç¾å…ƒï¼Œ
éªŒè¯è¾“å…¥ä¿å®‰å…¨ã€‚
```

### SQLæ³¨å…¥é˜²æŠ¤
```
ç”¨æˆ·è¾“å…¥ä¸å¯ä¿¡ï¼Œ
å¿…é¡»éªŒè¯æˆ–è½¬ä¹‰ï¼Œ
ä¼˜å…ˆä½¿ç”¨PreparedStatementï¼Œ
äº•å·å ä½æœ€å®‰å…¨ã€‚
```

---

## ğŸŠ å­¦ä¹ æˆæœ

å®ŒæˆDay 3ï¼Œä½ ç°åœ¨èƒ½å¤Ÿï¼š

âœ… ç”»å‡ºSQLçš„å®Œæ•´æ‰§è¡Œæµç¨‹  
âœ… è§£é‡ŠExecutorçš„ä¸‰ç§ç±»å‹  
âœ… ç†è§£StatementHandlerçš„å·¥ä½œåŸç†  
âœ… åŒºåˆ†#{} å’Œ ${} çš„æœ¬è´¨å·®å¼‚  
âœ… è¯†åˆ«SQLæ³¨å…¥é£é™©  
âœ… ç¼–å†™å®‰å…¨çš„SQLä»£ç   
âœ… è°ƒè¯•MyBatisçš„æ‰§è¡Œè¿‡ç¨‹  
âœ… å›ç­”é¢è¯•ä¸­çš„ç›¸å…³é—®é¢˜  

---

**è¿™ä»½å­¦ä¹ åœ°å›¾å¯ä»¥æ‰“å°å‡ºæ¥è´´åœ¨å¢™ä¸Šï¼Œéšæ—¶å¤ä¹ ï¼** ğŸ“Œ

